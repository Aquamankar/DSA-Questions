------------------------String based questions------------------

1. : Count vowels using Streams

String str = "i am words";

long count = str.chars()
        .mapToObj(c -> (char) c)
        .filter(c -> "aeiouAEIOU".indexOf(c) != -1)
        .count();

System.out.println(count);
----------------------------------------------------------
2. Find length of the longest word

int maxLength = Arrays.stream(str.split("\\s+"))
        .mapToInt(String::length)
        .max()
        .orElse(0);

System.out.println(maxLength);

----------------------------

String str = "i am learning java streams";

String longestWord = Arrays.stream(str.split("\\s+"))
        .max(Comparator.comparingInt(String::length))
        .orElse("");

System.out.println(longestWord);

--------------------------------------------------------------
Q3. sort String using stream

String str = s.chars()
              .sorted()
              .mapToObj(c -> String.valueOf((char) c))
              .collect(Collectors.joining());
-----------------------------------

using mapping 

String str = s.chars()
              .sorted()
              .boxed()
              .collect(Collectors.mapping(
                  c -> String.valueOf((char) c.intValue()),
                  Collectors.joining()
              ));

---------------------------------------------------------------------
Q4. convert String to Uppercase 

String result =
    s.chars()
     .mapToObj(c -> (char) c)                // IntStream ‚Üí Stream<Character>
     .map(ch -> Character.toUpperCase(ch))   // Stream<Character>
     .map(String::valueOf)                   // Stream<String>
     .collect(Collectors.joining());

------------------------------

String result = s.chars()
                 .filter(c -> c != ' ')
                 .map(Character::toUpperCase)
                 .mapToObj(c -> String.valueOf((char) c))
                 .collect(Collectors.joining());

-------------------------------------------------------------------
Q1.1 Partition the countries based on GDP threshold and return only the country names in each group.
Map<Boolean, Map<String, Double>> result =
        countryGDP.entrySet()
                  .stream()
                  .collect(Collectors.partitioningBy(
                      e -> e.getValue() >= 1.4,
                      Collectors.toMap(
                          Map.Entry::getKey,
                          Map.Entry::getValue
                      )
                  ));


Q1.2 Find all missing number in the giver array range



*** Stream-based solution (INTERVIEW READY)
1.Step-by-step logic

2.Find min and max

3.Create expected range

4.Remove duplicates from array

5. Filter missing numbers


import java.util.*; 
import java.util.stream.*;
class Main {
    public static void main(String[] args) {
        System.out.println("Try programiz.pro");
int[] arr = {1, 2, 2, 4, 5, 7, 8};

int min = Arrays.stream(arr).min().orElse(0);
int max = Arrays.stream(arr).max().orElse(0);

Set<Integer> existing =
        Arrays.stream(arr).boxed().collect(Collectors.toSet());

List<Integer> missing =
        IntStream.rangeClosed(min, max)
                .filter(i -> !existing.contains(i))
                .boxed()
                .toList();

System.out.println(missing); // [3, 6]

    }
}
====================

int[] arr = {1, 2, 2, 4, 5, 7, 8};

int min = Arrays.stream(arr).min().getAsInt();
int max = Arrays.stream(arr).max().getAsInt();

List<Integer> missing =
        IntStream.rangeClosed(min, max)
                .filter(i ->
                        Arrays.stream(arr).noneMatch(x -> x == i)
                )
                .boxed()
                .toList();

System.out.println(missing); // [3, 6]


----------------------------------------------

‚úÖ JAVA STREAM API ‚Äî 65 IMPORTANT INTERVIEW QUESTIONS (WITH VARIANTS + INPUT/OUTPUT PRACTICE)
Topic 1 ‚Äî Basic Stream Operations (10 Questions)
1. Convert list of strings to uppercase

Variant: lowercase, trim, append text
Input: ["java", "spring"]
Output: ["JAVA", "SPRING"]

2. Filter even numbers

Variant: odd numbers, numbers > X
Input: [2,5,7,8]
Output: [2,8]


------------------------------------------------
3. Find unique elements

Variant: find duplicates
Input: [1,2,2,3,3,3]
Output: [1,2,3]

List<Integer> ans = Arrays.stream(arr)
        .mapToObj(i -> i)      // instead of boxed()
        .collect(Collectors.groupingBy(i -> i, Collectors.counting()))
        .entrySet()
        .stream()
        .filter(e -> e.getValue() > 1)
        .map(Map.Entry::getKey)
        .collect(Collectors.toList());
------------------
  int[] arr = {1, 2, 2, 3, 3, 3};

        List<Integer> ans = Arrays.stream(arr)
                .boxed() // convert IntStream ‚Üí Stream<Integer>
                .collect(Collectors.groupingBy(i -> i, Collectors.counting()))
                .entrySet()
                .stream()
                .filter(i -> i.getValue() > 1)
                .map(e -> e.getKey())
                .collect(Collectors.toList());

        System.out.println(ans);
---------------------------------------------

4. Count elements satisfying condition

Input: [1,2,3,4] count > 2
Output: 2

5. Sort list using stream

Variant: reverse sort
Input: [5,1,4]
Output: [1,4,5]

6. Sum of integers using reduce

Variant: product
Input: [1,2,3]
Output: 6


int ans = Arrays.stream(arr)
                .reduce((a, b) -> a + b)
                .orElse(0);
-------------
int ans = Arrays.stream(arr)
                .reduce(0, (a, b) -> a + b);

System.out.println(ans);

----------------------------------------------------
7. Max and Min using stream

Input: [10, 5, 30]
Output: Max = 30, Min = 5

------with comparator 
  List<Integer> list = Arrays.asList(10, 5, 30, 20);

        // Using Comparator
        Integer max = list.stream()
                          .max(Comparator.naturalOrder())  // or Integer::compareTo
                          .orElse(null);

---------------
Integer max = list.stream()
                  .max(Integer::compareTo)
                  .orElse(null);

------------
Integer max = list.stream()
                          .collect(Collectors.collectingAndThen(
                              Collectors.maxBy(Integer::compareTo),
                              Optional::get
                          ));



-----------------------------------------
8. Check if all values match condition

Input: [2,4,6]
Output: true

9. Convert array to stream

Variant: map + convert to List

10. Convert List< String > to List< Integer >

Input: ["1","2","3"]
Output: [1,2,3]

ans->   List<Integer> ans=list.stream().map(i-> Integer.valueOf(i)).collect(Collectors.toList());
----------------------------------------------------------
Note-> 

Integer x = Integer.valueOf(2000);
Integer y = Integer.valueOf(2000);

System.out.println(x == y);   // false (not same object)


Integer a = Integer.valueOf(127);
Integer b = Integer.valueOf(127);

System.out.println(a == b);   // true (same cached object)
---------------------------------------------------------

****  parseXxx() = String ‚Üí primitive
****  valueOf() = String ‚Üí wrapper object
-----------------------------------------------------------

| Input Type | Works?            | Notes                                       |
| ---------- | ----------------- | ------------------------------------------- |
| `int`      | ‚úÖ Yes             | Returns `Integer`                           |
| `String`   | ‚úÖ Yes, if numeric | Returns `Integer`                           |
| `float`    | ‚ùå No              | Must use `Float.valueOf(float)`             |
| `double`   | ‚ùå No              | Must use `Double.valueOf(double)`           |
| `Integer`  | ‚úÖ Yes             | Returns same Integer (cached if -128..127)  |
| `Object`   | ‚ùå No              | Cannot directly use Integer.valueOf(Object) |



------------------------------------------------------------

| Case        | toString()    | valueOf()          |
| ----------- | ------------- | ------------------ |
| Primitive   | ‚ùå Not allowed | ‚úî Works            |
| Object      | ‚úî Works       | ‚úî Works            |
| Null object | ‚ùå NPE         | ‚úî Returns `"null"` |


------------------------------------------------

1. String.valueOf() ‚Üí BEST & SAFEST

It works for EVERYTHING:

primitives

wrapper objects

custom objects

null values (returns "null")

Example:
String s1 = String.valueOf(10);       // "10"
String s2 = String.valueOf(true);     // "true"
String s3 = String.valueOf(10.5);     // "10.5"
String s4 = String.valueOf(new Date()); // "Fri Dec 09..."
String s5 = String.valueOf(null);     // "null"



‚úÖ 2. toString() ‚Üí Works for objects (NOT primitives)
Example:
Integer x = 10;
String s = x.toString();   // ok


‚ùå But this fails:

int x = 10;
String s = x.toString(); // ‚ùå error (primitive has no methods)


‚ùå And toString() throws NullPointerException if object is null.

üöÄ Your Code Example (Correct)
List<String> ans = list.stream()
        .map(i -> String.valueOf(i))
        .collect(Collectors.toList());


‚úî Correct
‚úî Best way
‚úî Works for all types, not just Integer

-------------------------------------------------------------------------------------------------------------

Topic 2 ‚Äî Intermediate Operations (10 Questions)
11. Map() vs FlatMap() difference

Practice:
Employees with list of projects ‚Üí return unique project names.

12. Remove null values

Input: [1, null, 2, null, 3]
Output: [1,2,3]

13. Convert List< List<Integer> > to single list

Input: [[1,2], [3], [4,5]]
Output: [1,2,3,4,5]


---------------------------------------
        
    List<Integer> ans=   list.stream().flatMap(i-> i.stream()).distinct().sorted().collect(Collectors.toList());
------------------------------------------

14. Find second highest number

Input: [10, 20, 30, 40]
Output: 30

15. Skip N elements

Input: [1,2,3,4,5], skip 2
Output: [3,4,5]

16. Limit results

Input: [5,4,3,2] limit 2
Output: [5,4]

17. Convert List<Object> ‚Üí List<String> safely

map(String::valueOf)

18. Sorting custom objects

Input: Employees by salary
Output: sorted list

ans->  employees.stream()
         .sorted(Comparator.comparing(e -> e.salary))  // int gets boxed to Integer
         .collect(Collectors.toList());


------------------------------------
19. Filter objects based on two conditions

Input: age > 25 and city = ‚ÄúDelhi‚Äù
Output: matching employees

List<Employee> result = employees.stream()
    .filter(e -> e.getAge() > 25 && "Delhi".equals(e.getCity()))
    .collect(Collectors.toList());


-----------------------------------------

20. custom comparator using streams

ex: sort strings by length

Topic 3 ‚Äî Terminal Operations (10 Questions)
21. Collect to Set

Variant: Collect to LinkedList / Map

22. GroupingBy example

Input: Employee ‚Üí department
Output: Map<Dept, List<Employee>>

23. PartitioningBy example

Input: numbers even/odd
Output: {true: [2,4], false:[1,3]}

Map<Boolean, List<Integer>> result =
                numbers.stream()
                       .collect(Collectors.partitioningBy(n -> n % 2 == 0));


-------------------------------------------------

24. Join list of strings

Input: ["java","spring"]
Output: "java,spring"

   ans->     List<String> list = Arrays.asList("java", "spring");

        String result = list.stream()
                            .collect(Collectors.joining(","));
------------------------------------------------------
25. Convert Stream to array

Variant: primitive arrays

26. distinct() example

Remove duplicates

27. anyMatch()

Check if any employee earns > 1L salary

28. noneMatch()

Password does not contain space


String password = "My Secure Password";

boolean noSpace = password.chars()
        .noneMatch(ch -> ch == ' ');

System.out.println(noSpace);   // false



--------------------------------
NOTE->   
1.Convert int ‚Üí char by casting
int a = 45;
System.out.println((char) a);

2. Convert int ‚Üí String
String s = String.valueOf((char) c);
System.out.println(s);


-------------------------------------------------

29. findFirst()

Return first even number

30. collect ‚Üí custom collector


---------------------------------------------------
Topic 4 ‚Äî Map Operations (10 Questions)


31. Convert List<Employee> ‚Üí Map<id, name>

Variant: handling duplicate keys

Map<Integer, String> empMap =
    employees.stream()
        .collect(Collectors.toMap(
            Employee::getId,
            Employee::getName,
            (oldValue, newValue) -> oldValue   // handle duplicate keys
        ));
----------------------------------

32. Sort Map by Key

Map<Integer, String> sortedByKey =
    empMap.entrySet().stream()
        .sorted(Map.Entry.comparingByKey())
        .collect(Collectors.toMap(
            Map.Entry::getKey,
            Map.Entry::getValue,
            (a, b) -> a,
            LinkedHashMap::new
        ));

instead if map.entry wr also can use compatator
.sorted(Comparator.comparing(Map.Entry::getKey, Comparator.reverseOrder()))

----------------------------------
33. Sort Map by Value

Map<Integer, String> sortedByValue =
    empMap.entrySet().stream()
        .sorted(Map.Entry.comparingByValue())
        .collect(Collectors.toMap(
            Map.Entry::getKey,
            Map.Entry::getValue,
            (a, b) -> a,
            LinkedHashMap::new
        ));



----------------------------------------

34. Find max salary using map + stream

35. Convert Map ‚Üí List of keys

List<Integer> keys =
    empMap.keySet().stream().toList();



----------------------------------------

36. Convert Map ‚Üí List of entries

List<Map.Entry<Integer, Employee>> entries =
    empMap.entrySet().stream().toList();


-----------------------------------------

37. Increase all salaries by 10%

employees.forEach(e ->
    e.setSalary(e.getSalary() * 1.10)
);


------------------------------------------

38. Filter map by value

Map<Integer, Employee> filteredMap =
    empMap.entrySet().stream()
        .filter(e -> e.getValue().getSalary() > 50000)
        .collect(Collectors.toMap(
            Map.Entry::getKey,
            Map.Entry::getValue
        ));


---------------------------------------------

39. Convert Map<String, List<Integer>> ‚Üí single List<Integer>





Map<String, List<Integer>> map = new HashMap<>();
map.put("A", List.of(1, 2, 3));
map.put("B", List.of(4, 5));
map.put("C", List.of(6));

List<Integer> result = map.values()
                          .stream()
                          .flatMap(List::stream)
                          .collect(Collectors.toList());
------_--------------------------------------------------__-

40. Merge two maps




Map<String, Integer> map1 = new HashMap<>();
map1.put("A", 10);
map1.put("B", 20);

Map<String, Integer> map2 = new HashMap<>();
map2.put("B", 30);
map2.put("C", 40);

Map<String, Integer> merged = new HashMap<>(map1);

map2.forEach((key, value) ->
    merged.merge(key, value, Integer::sum)
);
-------------_--------------------------------------____
Map<String, Integer> merged =
    Stream.of(map1, map2)
          .flatMap(m -> m.entrySet().stream())
          .collect(Collectors.toMap(
              Map.Entry::getKey,
              Map.Entry::getValue,
              Integer::sum
          ));

---------------------------------------------------------------
Topic 5 ‚Äî Advanced & Tricky Stream Questions (10 Questions)
41. Stream vs parallel stream

Explain + example

42. Why streams cannot be reused?

Demonstrate exception

43. Stateful vs stateless operations

Interview favorite

44. Lazy evaluation

Explain why map() alone prints nothing

45. What happens if stream has side effects?

Wrong usage example

46. Why to avoid parallel stream?

Thread-safety issues

47. Reduce empty list (Optional handling)


48. Infinite Stream (Stream.iterate)

     Generate first 5 even numbers.

49. Custom collector to join integers with hyphen

E.g., "1-2-3-4"

Why ‚Äúcollector‚Äù exists at all


Ans---->

A Java Stream processes data one element at a time.
A Collector tells Java:

*Where to store intermediate results

*How to add each element

*How to merge results (for parallel streams)

*How to produce the final output

*What makes it custom
-------------
Built-in collectors:

toList() ‚Üí fixed behavior

joining() ‚Üí fixed behavior
----------------

A custom collector:

You decide how accumulation happens

You decide format, rules, conditions

You decide merge strategy

Example:

Add hyphen only between numbers

Skip certain values

Apply formatting rules

Build complex objects

Mental Model (Very Important)

Think of a collector as a factory + worker + manager + finisher.
-------------------------------------------
Part	    |   Meaning
Supplier	|   Creates an empty container
Accumulator	|   Adds one stream element
Combiner	|   Merges two containers
Finisher    |   Converts to final result
--------------------------------------------
Custom Collector in Plain English

For "1-2-3-4":
-------------------------
import java.util.*;
import java.util.stream.*;
import java.util.function.*;

class Main {
    public static void main(String[] args) {

        List<Integer> list = List.of(1, 2, 3, 4);

        String result = list.stream().collect(
            Collector.of(
                StringBuilder::new,              // supplier
                (sb, i) -> {
                    if (sb.length() > 0) sb.append("-");
                    sb.append(i);
                },                                // accumulator
                (sb1, sb2) -> {
                    if (sb1.length() > 0 && sb2.length() > 0) sb1.append("-");
                    sb1.append(sb2);
                    return sb1;
                },                                // combiner
                StringBuilder::toString           // finisher
            )
        );

        System.out.println(result); // 1-2-3-4
    }
}

-------------------------
. Full execution timeline

Supplier creates StringBuilder

Accumulator processes each integer

Combiner merges partial results (if needed)

Finisher converts to String

--------------------------------------------------------
‚ÄúStart with an empty box,
put numbers into it one by one,
add - between them,
if multiple boxes exist (parallel), merge them,
finally convert to a string.‚Äù

That instruction set = custom collector.

Why interviewer cares

Because it proves you understand:

How Streams actually work internally

Mutable reduction

Difference between:

map() ‚Üí transforms data

collect() ‚Üí accumulates data

One-Sentence Interview Answer (Memorize This)

‚ÄúA custom collector is a user-defined implementation of
the Collector interface that controls how stream elements 
are accumulated, merged, and transformed into a final result.‚Äù

When should you use it?

Use a custom collector when:

Built-in collectors are not flexible enough

You need complex accumulation logic

You want performance optimization

You need stateful accumulation

Do not use it when:

Collectors.joining, toList, groupingBy already solve the problem

--------------------------------------------------------------------------------------------
50. Difference between map(), peek(), forEach()



---------------------------------------------------------------------
Topic 6 ‚Äî Real Interview Coding Problems Using Streams (15 Questions)


51. Find frequency of characters in string

Input: "banana"
Output: {b=1, a=3, n=2}

52. Find first non-repeated character

Input: "swiss"
Output: w

import java.util.*;
import java.util.stream.*;

class Main {
    public static void main(String[] args) {

        String s = "swiss";

        Optional<Character> result =
                s.chars()
                 .mapToObj(c -> (char) c)
                 .collect(Collectors.groupingBy(
                         c -> c,
                         LinkedHashMap::new,
                         Collectors.counting()
                 ))
                 .entrySet()
                 .stream()
                 .filter(e -> e.getValue() == 1)
                 .map(Map.Entry::getKey)
                 .findFirst();

        System.out.println(result.orElse(null));
    }
}



-------------------------------------------

53. Sort strings by frequency of characters



54. Find common elements between two lists

Input: [1,2,3] & [2,3,4]
Output: [2,3]

55. Find duplicate numbers

Input: [1,2,2,3,3]
Output: [2,3]



-----------------------------------------------------
56. Reverse each word in a sentence


import java.util.*;
import java.util.stream.*;

class Main {
    public static void main(String[] args) {

        String s = "i am java developer";
        String[] strs = s.split(" ");

        String ans = Arrays.stream(strs)
                .map(i -> new StringBuilder(i).reverse().toString())
                .collect(Collectors.joining(" "));

        System.out.println(ans);
    }
}

--------------------------------------------------

57. Count words in a sentence




-------------------------------------------------------
58. Find longest string

Input: ["a", "abc", "ab"]
Output: "abc"

import java.util.*;
import java.util.stream.*;

class Main {
    public static void main(String[] args) {

        String[] arr = {"a", "abc", "ab"};

        Optional<String> max = Arrays.stream(arr)
                .collect(Collectors.maxBy(
                        Comparator.comparing(String::length)
                ));

        System.out.println(max.orElse(""));
    }
}


-------------------------------------------------------

59. Top 3 highest numbers

Input: [5,1,10,7,8]
Output: [10,8,7]

import java.util.*;
import java.util.stream.*;
class Main {
    public static void main(String[] args) {
        System.out.println("Try programiz.pro");
        List<Integer> list=Arrays.asList(5,1,10,7,8);


      List<Integer> ans=  list.stream().
                    sorted(Comparator.reverseOrder()).
                    limit(3).
                    collect(Collectors.toList());
      
           System.out.println("Try programiz.pro "+ ans);
        
    }
}


----------------------------------------------------

60. Anagrams grouping using Stream

Input: ["eat","tea","ate","bat"]
Output: [[eat,tea,ate],[bat]]

61. Check palindrome using streams

Input: "madam"
Output: true


String str = "MadAm";

boolean isPalindrome = IntStream.range(0, str.length() / 2)
        .allMatch(i ->
                Character.toLowerCase(str.charAt(i)) ==
                Character.toLowerCase(str.charAt(str.length() - 1 - i))
        );

System.out.println(isPalindrome);   // true


----------------------
String str = "madam";

String reversed = new StringBuilder(str).reverse().toString();

boolean isPalindrome = IntStream.range(0, str.length())
        .allMatch(i -> str.charAt(i) == reversed.charAt(i));

System.out.println(isPalindrome);   // true



---------------------------------------------------
62. Convert integer list to comma-separated string

Input: [1,2,3]
Output: "1,2,3"

int[] v = {1, 2, 3};

ans->   String str = Arrays.stream(v)
        .boxed()
        .map(String::valueOf)
        .collect(Collectors.joining(","));

System.out.println(str);    // Output: 1,2,3


----------------------------------------------------------
63. Find longest subarray of positives (stream-based idea)
64. Custom sorting: sort strings by last character
65. Count vowels in string using stream

Input: "java"
Output: 2
